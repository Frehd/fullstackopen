{"version":3,"sources":["components/AddPersonForm.js","components/Person.js","components/NumberList.js","components/SearchBox.js","components/phonebookService.js","components/Notification.js","App.js","index.js"],"names":["AddPersonForm","handleChange","content","handleSubmit","onSubmit","value","name","onChange","number","type","Person","person","handleDelete","onClick","NumberList","phonebook","searchString","map","toLowerCase","includes","key","_id","SearchBox","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Notification","message","positive","undefined","className","App","useState","setPhonebook","newName","setNewName","newNumber","setNewNumber","search","setSearch","notification","setMessage","stateFunctions","setName","setNumber","useEffect","phonebookService","reload","setTimeout","event","target","attribute","preventDefault","filter","length","concat","catch","error","window","confirm","current_person","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.017fd928.chunk.js","sourcesContent":["import React from 'react'\n\nconst AddPersonForm = ({handleChange, content, handleSubmit}) => (\n  <>\n    <form onSubmit={handleSubmit}>\n      <div>\n        Name: <input value={content.name} onChange={handleChange('Name')} />\n        <br/>\n        Number: <input value={content.number} onChange={handleChange('Number')} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  </>\n)\n  \nexport default AddPersonForm","import React from 'react'\n\nconst Person = ({person, handleDelete}) => (\n  <>\n    {person.name} {person.number}\n    <button onClick={handleDelete(person)}>delete</button>\n    <br/>\n  </>\n)\n    \nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst NumberList = ({phonebook, searchString, handleDelete}) => (\n  <>\n    <h2>Numbers</h2>\n    {phonebook.map(\n      (person) => {\n        if(person.name.toLowerCase().includes(searchString.toLowerCase())){\n          return(<Person key={person._id} person={person} handleDelete={handleDelete}/>)\n        } else {\n          return(<></>)\n        }\n      }\n    )}\n  </>\n)\n    \nexport default NumberList","import React from 'react'\n\nconst SearchBox = ({handleChange, content}) => (\n  <>\n    Search: <input value={content} onChange={handleChange} />\n  </>\n)\n\nexport default SearchBox","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, remove }","import React from 'react'\n\nconst Notification = ({message, positive}) => {\n  if (message === null | message === undefined | message === '') {\n    return null\n  }\n\n  return (\n    <div className={positive?'positive':'error'}>\n      {message}\n    </div>\n  )\n}\n    \nexport default Notification","import React, { useState, useEffect} from 'react'\nimport AddPersonForm from './components/AddPersonForm'\nimport NumberList from './components/NumberList'\nimport SearchBox from './components/SearchBox'\nimport phonebookService from './components/phonebookService'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ phonebook, setPhonebook] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ search, setSearch ] = useState('')\n  const [ notification, setMessage] = useState({message:'', positive:''})\n\n  const stateFunctions = {\n    setName(name) {\n      setNewName(name)\n    },\n    setNumber(number) {\n      setNewNumber(number)\n    }\n  }\n\n  useEffect(() => {\n    phonebookService\n      .getAll()\n      .then(data => {\n        setPhonebook(data)\n      })\n  }, [])\n\n  const reload = () => {setTimeout(() => {phonebookService.getAll().then(data => {setPhonebook(data)})}, 500)}\n\n  const handleDelete = (person) => (() => {\n    if(window.confirm(`Do you really want to delete ${person.name}`)){\n      phonebookService.remove(person._id).then(() => {\n        setPhonebook(phonebook.filter(current_person => (current_person._id !== person._id)))\n        reload() \n        setMessage({message:`Removed ${person.name}`, positive:true})}).catch(\n        setMessage({message:`Contact ${newName} has already been removed from the server`, positive:false})\n      )\n    }\n  })\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    if(phonebook.filter(person => person.name === newName).length === 0){\n      phonebookService.create({name:newName,number:newNumber}).then(() => {\n        setPhonebook(phonebook.concat({name:newName,number:newNumber}))\n        reload()\n        setMessage({message:`Added ${newName}`, positive:true}) \n        setNewName(''); setNewNumber('')}).catch((error) => {\n        setMessage({message:error.response.data.error, positive:false})}\n      )\n    } else {\n      if(window.confirm(`Do you really want to change ${newName}'s number?`)){\n        let person = phonebook.filter(person => person.name === newName)[0]\n        phonebookService.update(person._id, {name:newName,number:newNumber}).then(\n          () => {\n            setPhonebook(phonebook.map(current_person => (current_person._id !== person._id?current_person:{name:newName,number:newNumber})))\n            reload() \n            setMessage({message:`Changed ${newName}'s number`, positive:true}) \n            setNewName('') \n            setNewNumber('')}).catch(\n          setMessage({message:`Contact ${newName} has already been removed from the server`, positive:false})\n        )\n      }\n    }\n  }\n\n  const handleFormChange = (attribute) => (\n    (event) => {stateFunctions[`set${attribute}`](event.target.value)}\n  )\n\n  return (\n    <div>\n      <Notification message={notification.message} positive={notification.positive}/> \n      <h2>Phonebook</h2>\n      <SearchBox content={search} handleChange={(event) => setSearch(event.target.value)}/>\n      <AddPersonForm handleChange={handleFormChange} content={{name:newName,number:newNumber}} handleSubmit={addPerson}/>\n      <NumberList phonebook={phonebook} searchString={search} handleDelete={handleDelete}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App/>,\n  document.getElementById('root')\n)"],"sourceRoot":""}